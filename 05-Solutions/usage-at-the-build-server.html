<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="docsearch:name" content="DRC - The Docker Rendering Container" />
    <meta name="docsearch:package_type" content="" />
    <meta name="docsearch:release" content="0.0.0" />
    <meta name="docsearch:version" content="0.0" />
    <meta name="docsearch:modified" content="2022-06-02T18:52:22+00:00" />
    <link rel="schema.dc" href="http://purl.org/dc/elements/1.1/" />
    <meta name="dc.modified" content="2022-06-02T18:52:22+00:00" />
    <meta property="article:modified_time" content="2022-06-02T18:52:22+00:00" />

    <title>Usage at the build server &mdash; DRC - The Docker Rendering Container 0.0.0 documentation</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/fontawesome.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/webfonts.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
<!-- linktags -->
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="DRC - The Docker Rendering Container 0.0.0 documentation" href="#" />
    <link rel="up" title="Solutions" href="Index.html" />
    <link rel="next" title="Explaining" href="../06-Knowledge/Index.html" />
    <link rel="prev" title="Pull and use &#39;develop&#39; from Docker hub" href="pull-from-docker-hub.html" />
<!-- /linktags -->
<!-- extrahead --><!-- /extrahead -->
    <script src="../_static/js/modernizr.min.js"></script>

</head>

<body>

    <div class="page">

        <div class="page-header">
            <div class="page-header-inner">
<!--block pageheader-->
<div class="row">
    <div class="col-sm-6 col-lg-7">

        <div class="logo">

            <img src="../_static/img/typo3-logo.svg" width="484" height="130" alt="TYPO3 Logo" title="TYPO3 Documentation" class="logo-image" />
        </div>
    </div><!--/.col-x-->
    <div class="col-sm-6 col-lg-5">
        <div role="search">
            
            <!--form global search-->
        </div>
    </div><!--/.col-x-->
</div><!--/.row-->
<!--/block pageheader-->
            </div><!--/.page-header-inner-->
        </div><!--/.page-header-->

        

        <div class="page-main">
            <div class="page-main-inner">
                <div class="page-main-navigation">
                    <nav>
                        <input type="checkbox" id="toggleToc" class="toc-checkbox">
                        <div class="toc-header"><div class="toc-title">
                                    <a class="toc-title-project" href="../Index.html">DRC - The Docker Rendering Container</a></div><div class="toc-actions">
                                <label for="toggleToc" class="toc-toggle">
                                    Menu
                                </label>
                            </div>
                        </div>
                        <div class="toc-collapse">
<!-- searchbox.html -->
<div id="searchbox" class="toc-search" role="search">
    <form id="search-form" action="../search.html" autocomplete="off" method="get">
        <input class="form-control" type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
<!-- /searchbox.html -->
                            <div class="toc" role="navigation" aria-label="main navigation">
<!-- menu -->
                                        <p class="caption" role="heading"><span class="caption-text">INTRODUCTION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../01-Introduction/1-Readme.html">Readme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01-Introduction/2-About.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sitemap.html">Sitemap</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MAIN</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../02-Usage/Index.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../02-Usage/1-Installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Usage/2-Basic-Rendering.html">Basic rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Usage/3-Troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Usage/4-Customized-rendering.html">Customized rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Usage/Usage-Windows/Index.html">Directly on Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../02-Usage/Usage-Windows/quickstart-windows.html">Quickstart (Windows)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../02-Usage/Usage-Windows/windows-users.html">Windows users</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../03-How-to/Index.html">How to</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../03-How-to/advanced.html">Advanced usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03-How-to/quickstart.html">Quickstart</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../04-Versions/Index.html">Versions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../04-Versions/v3-0.html">Releases v3.0.dev1 (2021-10-03)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04-Versions/v2-8.html">Releases v2.8 (2021-03-29)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04-Versions/v2-7.html">Releases v2.7 (2021-01-21)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04-Versions/v0-0.html">Releases v0.0 to v2.6.1 (2020-05-27)</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="Index.html">Solutions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Livereload/Index.html">Livereload</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Livereload/Livereload-using-Python.html">Livereload using Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="Livereload/Livereload-using-Gulp.html">Livereload using Gulp (WIP)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gitlab-ci/Index.html">Render with Gitlab CI</a></li>
<li class="toctree-l2"><a class="reference internal" href="PDF-generation.html">Individual Python packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="decode-objects-inventory.html">Decode Sphinx crossreferencing inventories 'objects.inv'</a></li>
<li class="toctree-l2"><a class="reference internal" href="drop-includes-txt.html">Drop the usual Includes.rst.txt file</a></li>
<li class="toctree-l2"><a class="reference internal" href="individual-python-packages.html">PDF-generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="non-typo3-usage.html">Non TYPO3 usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="pull-from-docker-hub.html">Pull and use 'develop' from Docker hub</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Usage at the build server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../06-Knowledge/Index.html">Explaining</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../06-Knowledge/ReST/Index.html">Writing ReST for Sphinx</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../06-Knowledge/ReST/About-docutils.html">About Docutils: The basics of ReST</a></li>
<li class="toctree-l3"><a class="reference internal" href="../06-Knowledge/ReST/About-includes.html">About includes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../06-Knowledge/Toolchain/Index.html">Toolchain</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../06-Knowledge/Toolchain/define-docfiles.html">Specify documentation files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../06-Knowledge/Dockerfile.html">Dockerfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06-Knowledge/Security.html">Security</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../07-To-be-sorted/Index.html">To be sorted</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../07-To-be-sorted/docker-run.html">Using 'docker run'</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07-To-be-sorted/quickstart.html">Quickstart</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../08-More/Index.html">More</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../08-More/Building/Index.html">Container building</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Building/automated-builds.html">Automated builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Building/building-locally.html">Building locall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../08-More/Development/Index.html">Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Development/roadmap.html">Container development roadmap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Development/menu-development.html">Menu development</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Development/t3docs_userhome.html">Use local 'userhome'</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Development/theme-development.html">Theme development</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../08-More/Inspection/Index.html">Inspection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Inspection/what-is-installed.html">What is installed?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Inspection/dockrun_t3rd.html">The 'dockrun' function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Inspection/pygments.html">Syntax highlighting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Inspection/toolchain.html">Toolchain inspection</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../08-More/Rendering/Index.html">Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Rendering/make-html.html">Creating html</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Rendering/make-singlehtml.html">Creating singlehtml</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Rendering/make-package.html">Creating packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Rendering/make-latex.html">Creating latex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Rendering/make-pdf.html">Creating pdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Rendering/run-parameters.html">Run parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../08-More/Structures/Index.html">File structures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../08-More/Structures/types.html">Documentation types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../08-More/ForContributors.html">For contributors</a></li>
</ul>
</li>
</ul>

                                    <p class="caption"><span class="caption-text">PAGE CONTENTS</span></p>
                                    <ul>
<li><a class="reference internal" href="#">Usage at the build server</a><ul>
<li><a class="reference internal" href="#updating-to-v2-6-1">Updating to v2.6.1</a><ul>
<li><a class="reference internal" href="#step-one">Step one</a></li>
<li><a class="reference internal" href="#step-two">Step two</a></li>
</ul>
</li>
<li><a class="reference internal" href="#today-is-21-october-2019">Today is 21. October 2019</a></li>
<li><a class="reference internal" href="#released-today-version-v2-4-0">Released today: version v2.4.0</a></li>
<li><a class="reference internal" href="#update-from-v2-3-0-to-current-v2-4-0">Update from v2.3.0 to current v2.4.0</a><ul>
<li><a class="reference internal" href="#for-example-update-v2-3-0-to-v2-4-0">For example: Update v2.3.0 to v2.4.0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#update-from-v2-2-6-to-past-v2-3-0">Update from v2.2.6 to past v2.3.0</a><ul>
<li><a class="reference internal" href="#extended-check-after-updating-to-v2-3-0">Extended check after updating to v2.3.0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#container-history">Container history</a></li>
<li><a class="reference internal" href="#tickets">Tickets</a></li>
</ul>
</li>
</ul>
<!-- /menu -->
                            </div>
                        </div>
                    </nav>
                </div>
                <div class="page-main-content">
                    <div class="rst-content">
<!-- pager-hidden.html -->

        <a class="no-focus" accesskey="p" href="pull-from-docker-hub.html" tabindex="-1"></a>
        <a class="no-focus" accesskey="n" href="../06-Knowledge/Index.html" tabindex="-1"></a>
<!-- /pager-hidden.html -->
<!-- breadcrumbs.html -->
<div class="breadcrumb-bar" role="navigation" aria-label="breadcrumbs navigation">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="../Index.html">Start</a></li>
            <li class="breadcrumb-item"><a href="Index.html">Solutions</a></li>
        <li class="breadcrumb-item active" aria-current="page">Usage at the build server</li>
    </ol>
    <div class="breadcrumb-additions">
        <a class="btn btn-sm btn-light" href="../_sources/05-Solutions/usage-at-the-build-server.rst.txt" rel="nofollow">
            <span class="btn-icon"><span class="fas fa-code"></span></span>
            <span class="btn-text">View source</span>
        </a>
        <a class="btn btn-sm btn-light" id="btnHowToEdit"
           href="https://docs.typo3.org/m/typo3/docs-how-to-document/master/en-us/WritingDocsOfficial/GithubMethod.html"
           rel="nofollow noopener" target="_blank">
            <span class="btn-icon"><span class="fas fa-info-circle"></span></span>
            <span class="btn-text">How to edit</span>
        </a>
        <a class="btn btn-sm btn-primary" id="btnEditOnGitHub" href="https://github.com/t3docs/DRC-The-Docker-Rendering-Container/edit/main/Documentation/05-Solutions/usage-at-the-build-server.rst">
            <span class="btn-icon"><span class="fab fa-github"></span></span>
            <span class="btn-text">Edit on GitHub</span>
        </a>
    </div>
</div>
<!-- /breadcrumbs.html -->
<!-- displaysettingsui.html -->
<div id="displaysettingsui" class="displaysettingsui">
<div class="dsDivCogwheel"><i id="dsCogwheel" class="fas fa-cog" title="Display settings"></i></div>
<div id="dsPanel" class="dsPanel" ><p><b>Display settings</b></p>
<input type="checkbox" id="cbFullWidth"><label for="cbFullWidth">Use full width</label><br>
<input type="checkbox" id="cbPermanent"><label for="cbPermanent">Make settings permanent</label><br>
</div><!--/.dsPanel-->
</div><!--/.displaysettingsui-->
<!-- /displaysettingsui.html -->
<!-- versionhints.html -->
<div class="version-hints">

    <div class="version-hints-inner" data-run-ajax="no">
<!--filled from _static/ajax-version-hints.html-->
</div><!--/.version-hints-inner-->
</div><!--/.version-hints-->
<!-- /versionhints.html -->
                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                            <div itemprop="articleBody">
<!-- body -->
    <div class="section" id="usage-at-the-build-server">
<h1>Usage at the build server<a class="headerlink" href="#usage-at-the-build-server" title="Permalink to this headline">¶</a></h1>
<p>TYPO3 has &quot;living&quot; documentation. Documentation is automatically
(re)rendered and published on <a class="reference external" href="https://docs.typo3.org">https://docs.typo3.org</a> when it changes.
There is an <a class="reference external" href="https://intercept.typo3.com/admin/docs/deployments">Intercept</a> machine that reveals
the status of the various automation jobs.</p>
<hr class="docutils" />
<p>This document is about how the docker container is used on the build server
and how updates are done.</p>
<div class="contents compact-list local topic" id="this-page">
<p class="topic-title">This page</p>
<ul class="simple">
<li><p><a class="reference internal" href="#updating-to-v2-6-1" id="id1">Updating to v2.6.1</a></p>
<ul>
<li><p><a class="reference internal" href="#step-one" id="id2">Step one</a></p></li>
<li><p><a class="reference internal" href="#step-two" id="id3">Step two</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#today-is-21-october-2019" id="id4">Today is 21. October 2019</a></p></li>
<li><p><a class="reference internal" href="#released-today-version-v2-4-0" id="id5">Released today: version v2.4.0</a></p></li>
<li><p><a class="reference internal" href="#update-from-v2-3-0-to-current-v2-4-0" id="id6">Update from v2.3.0 to current v2.4.0</a></p>
<ul>
<li><p><a class="reference internal" href="#for-example-update-v2-3-0-to-v2-4-0" id="id7">For example: Update v2.3.0 to v2.4.0</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#update-from-v2-2-6-to-past-v2-3-0" id="id8">Update from v2.2.6 to past v2.3.0</a></p>
<ul>
<li><p><a class="reference internal" href="#extended-check-after-updating-to-v2-3-0" id="id9">Extended check after updating to v2.3.0</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#container-history" id="id10">Container history</a></p></li>
<li><p><a class="reference internal" href="#tickets" id="id11">Tickets</a></p></li>
</ul>
</div>
<div class="section" id="updating-to-v2-6-1">
<h2><a class="toc-backref" href="#this-page">Updating to v2.6.1</a><a class="headerlink" href="#updating-to-v2-6-1" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Jira</dt>
<dd class="field-odd"><p><a class="reference external" href="https://jira.typo3.com/servicedesk/customer/portal/2/T3GFEED-2">Please deploy new Docker docs rendering container v2.6.1</a></p>
</dd>
</dl>
<div class="section" id="step-one">
<h3><a class="toc-backref" href="#this-page">Step one</a><a class="headerlink" href="#step-one" title="Permalink to this headline">¶</a></h3>
<p>Can be done right away and is independent from step two.</p>
<p>① A new documentation rendering container is available and should be used in
Bamboo plans. New: <code class="code docutils literal notranslate"><span class="pre">docker</span> <span class="pre">pull</span> <span class="pre">t3docs/render-documentation:v2.6.1</span></code>.
Currently we are using <code class="code docutils literal notranslate"><span class="pre">v2.5.1</span></code>. So please change that to <code class="code docutils literal notranslate"><span class="pre">v2.6.1</span></code>. This change
is ready to go and should work for all manuals.</p>
<p>② This should be working fine and be a drop in replacement. Reverting to
v2.5.1 is always possible though.</p>
<p>③ Once it works all manuals should be re-rendered.</p>
</div>
<div class="section" id="step-two">
<h3><a class="toc-backref" href="#this-page">Step two</a><a class="headerlink" href="#step-two" title="Permalink to this headline">¶</a></h3>
<p>Update in plans requested:</p>
<p>The footer of new renderings now shows a &quot;Last updated&quot; date for files that
live in a Git repository. The container will query <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> automatically if
the root of the repository is mapped as <code class="code docutils literal notranslate"><span class="pre">PROJECT</span></code> into the container. If,
however, for example, the repository is <code class="code docutils literal notranslate"><span class="pre">TYPO3CMS.git</span></code> and the PROJECT is
<code class="code docutils literal notranslate"><span class="pre">typo3/sysext/core</span></code> then the container cannot query Git as the complete
repository is not mapped into the container. To make things work the following
has to be done:</p>
<ol class="arabic">
<li><p>Make this script available: <a class="reference external" href="https://github.com/marble/Toolchain_RenderDocumentation/blob/master/16-Convert-and-fix-and-check/git-restore-mtime/git-restore-mtime-modified.py">git-restore-mtime-modified.py</a></p></li>
<li><p>Insert code BEFORE the line with the <code class="code docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span> <span class="pre">...</span></code> call:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># go to the project</span>
<span class="nb">cd</span> PROJECT

<span class="c1"># run the script</span>
python git-restore-mtime-modified.py --test --destfile-gitloginfo<span class="o">=</span>.gitloginfo-GENERATED.json .
</pre></div>
</div>
<p>Note the single dot at the end which denotes the current directory!</p>
<p><em>Explanation:</em>
<code class="code docutils literal notranslate"><span class="pre">--test</span></code> means that file mtimes are not really to be changed as the script
would usually do. It doesn't hurt but is of no use either. As result an
outfile <code class="file docutils literal notranslate"><span class="pre">PROJECT/.gitloginfo-GENERATED.json</span></code> should exist with
information extracted from <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>. The container with the toolchain will
then automatically make use of that information. The Bamboo plan does not
have to check for success. The script will only write the result file on
success, and the container will only use it if it's available and in proper
shape.</p>
</li>
</ol>
<p>Thank you for all!</p>
<hr class="docutils" />
<dl class="field-list simple">
<dt class="field-odd">Jira</dt>
<dd class="field-odd"><p>Report <a class="reference external" href="https://jira.typo3.com/servicedesk/customer/portal/3/create/128">Docs Rendering Issues</a> here</p>
</dd>
</dl>
</div>
</div>
<hr class="docutils" />
<div class="section" id="today-is-21-october-2019">
<h2><a class="toc-backref" href="#this-page">Today is 21. October 2019</a><a class="headerlink" href="#today-is-21-october-2019" title="Permalink to this headline">¶</a></h2>
<p>&quot;now&quot;, &quot;currently&quot; and &quot;today&quot; refers to this date in the context of this page.</p>
</div>
<div class="section" id="released-today-version-v2-4-0">
<h2><a class="toc-backref" href="#this-page">Released today: version v2.4.0</a><a class="headerlink" href="#released-today-version-v2-4-0" title="Permalink to this headline">¶</a></h2>
<p><strong>v2.4.0</strong> is now active and replaces v2.3.0</p>
</div>
<div class="section" id="update-from-v2-3-0-to-current-v2-4-0">
<h2><a class="toc-backref" href="#this-page">Update from v2.3.0 to current v2.4.0</a><a class="headerlink" href="#update-from-v2-3-0-to-current-v2-4-0" title="Permalink to this headline">¶</a></h2>
<p>How to update the Docker render container.</p>
<div class="section" id="for-example-update-v2-3-0-to-v2-4-0">
<h3><a class="toc-backref" href="#this-page">For example: Update v2.3.0 to v2.4.0</a><a class="headerlink" href="#for-example-update-v2-3-0-to-v2-4-0" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Find server idle time or pause scheduling of new rendering jobs.</p></li>
<li><p>Update the rendering script. This should be something like
'Render documentation' of type
'com.atlassian.bamboo.plugins.scripttask:task.builder.script'.</p>
<p>Do a &quot;find &amp; replace&quot; operation:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># find........:  t3docs/render-documentation:v2.3.0</span>
<span class="c1"># replace with:  t3docs/render-documentation:v2.4.0</span>
</pre></div>
</div>
</li>
<li><p>Trigger a sample rendering.</p></li>
<li><p>Check the result and the log output to verify that rendering and deployment
succeeded.</p></li>
<li><p>In case of error: revert to v2.3.0 and contact the documentation team.</p></li>
<li><p>In case of success: Trigger rerendering of all known manuals.</p></li>
<li><p>Resume normal job processing.</p></li>
</ol>
<p><strong>Note:</strong> With v2.4.0 there is NO NEED to rerender all manuals.</p>
</div>
</div>
<div class="section" id="update-from-v2-2-6-to-past-v2-3-0">
<h2><a class="toc-backref" href="#this-page">Update from v2.2.6 to past v2.3.0</a><a class="headerlink" href="#update-from-v2-2-6-to-past-v2-3-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="extended-check-after-updating-to-v2-3-0">
<h3><a class="toc-backref" href="#this-page">Extended check after updating to v2.3.0</a><a class="headerlink" href="#extended-check-after-updating-to-v2-3-0" title="Permalink to this headline">¶</a></h3>
<p>After building have a look at the <code class="code docutils literal notranslate"><span class="pre">results.json</span></code> file in the BUILDINFO.</p>
<p>v2.3.0 leaves more info there than the versions before. You may especially want
to watch to have a look at the &quot;environ&quot; section.</p>
<p>Here is an example <code class="code docutils literal notranslate"><span class="pre">results.json</span></code> file:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;build_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-08-26 14:39:11&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;checksum&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;7a3807bc4d86e9227bb20d555d62fbce&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;checksum_ttl_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">604800</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;copyright&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TYPO3 Documentation Team&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;html&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;singlehtml&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;\nEverything about the container: How it works, how it&#39;s developed and build\nand way to use it.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;email_notify_about_new_build&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;emails_user_from_project&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;martin.bless@typo3.org&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;environ&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;OUR_IMAGE&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;t3docs/render-documentation:v2.3.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;OUR_IMAGE_SHORT&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;t3rd&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;OUR_IMAGE_VERSION&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v2.3.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;THEME_MTIME&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1530870718&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;THEME_VERSION&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.6.16&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;TOOLCHAIN_VERSION&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.8-dev&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;TYPOSCRIPT_PY_VERSION&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v2.2.4&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;gitdir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/PROJECT&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;has_neutralized_images&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;has_neutralized_links&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;known_versions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;t3SphinxThemeRtd.VERSION&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="mi">3</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="mi">6</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="mi">16</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;t3SphinxThemeRtd.__version__&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.6.16&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;localization&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;default&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;postprocessed_html_files&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;project&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TYPO3 Docker Container v2.3.0 for Documentation Rendering\nand more&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;publish_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;project/0.0.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;release&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.1.9-draft&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;sitemap_files_html_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;sitemap_files_singlehtml_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;ter_extension&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Check specifics of all rendered manuals:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># command</span>
find -name results.json -exec grep -i <span class="s1">&#39;has_neutralized_links&quot;: [^0]&#39;</span> <span class="o">{}</span> +

<span class="c1"># findings</span>
<span class="c1">#01 ./m/typo3/reference-typoscript/6.2/en-us/_buildinfo/results.json:  &quot;has_neutralized_links&quot;: 1,</span>
<span class="c1">#02 ./m/typo3/reference-typoscript/7.6/en-us/_buildinfo/results.json:  &quot;has_neutralized_links&quot;: 1,</span>
<span class="c1">#03 ./other/typo3/view-helper-reference/8.7/en-us/_buildinfo/results.json:  &quot;has_neutralized_links&quot;: 1,</span>

…
</pre></div>
</div>
<p>Investigation of #01 and #02: The html contains <code class="code docutils literal notranslate"><span class="pre">&lt;a</span> <span class="pre">href=&quot;data:cols</span> <span class="pre">…</span></code> which
is detected as a possible threat. But, in the context of the TypoScript manual
it has the purpose to link to the 'cols' property of the 'data' object.</p>
</div>
</div>
<div class="section" id="container-history">
<h2><a class="toc-backref" href="#this-page">Container history</a><a class="headerlink" href="#container-history" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>v2.4.0</dt><dd><p>t3docs/render-documentation:v2.4.0</p>
<p>Released 21. October 2019</p>
<p>To become active.</p>
<p>Should be a &quot;drop in&quot; replacement.</p>
<p>There is NO NEED to rerender all manuals.</p>
</dd>
<dt>v2.3.0</dt><dd><p>t3docs/render-documentation:v2.3.0</p>
<p>Released 19. August 2019</p>
<p>Active since 27. August 2019.</p>
<p>Was a &quot;drop in&quot; replacement.</p>
<p>All manuals known to <a class="reference external" href="https://intercept.typo3.com/admin/docs/deployments">Intercept</a> have been rerendered.</p>
</dd>
<dt>v2.2.6</dt><dd><p>Released 23. June 2019</p>
<p>Is currently in use.</p>
<p>All manuals known to <a class="reference external" href="https://intercept.typo3.com/admin/docs/deployments">Intercept</a> had been rerendered.</p>
<p>Replaced v1.6.11-html</p>
<p>This should have been a &quot;drop in&quot; replacement but didn't work initially
due to a wrong environment variable in the script.</p>
</dd>
<dt>v1.6.11-html</dt><dd><p>Released 26. October 2018</p>
<p>First version that was used in the automated rendering process.</p>
</dd>
</dl>
</div>
<div class="section" id="tickets">
<h2><a class="toc-backref" href="#this-page">Tickets</a><a class="headerlink" href="#tickets" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://jira.typo3.com/servicedesk/customer/portal/3/TE-123">https://jira.typo3.com/servicedesk/customer/portal/3/TE-123</a></p>
</div>
</div>

<!-- /body -->
                            </div>
                        </div>
<!-- pager.html -->
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        <li class="page-item">
            <a class="page-link" href="pull-from-docker-hub.html" title="Accesskey Alt(+Shift)+p">
                Previous
            </a>
        </li>
        <li class="page-item">
            <a class="page-link" href="../06-Knowledge/Index.html" title="Accesskey Alt(+Shift)+n">
                Next
            </a>
        </li>
        
    </ul>
</nav>
<!-- /pager.html -->
                    </div>
                </div>
            </div>
        </div>

        

        <div class="page-footer">
<!-- footer.html -->
<footer>
    <div class="frame frame-ruler-before frame-background-dark">
        <div class="frame-container">
            <div class="frame-inner">
                <ul class="footer-simplemenu">
                    <li><a href="https://github.com/t3docs/DRC-The-Docker-Rendering-Container/issues/" title="Issues"><span>Issues</span></a></li>
                    <li><a href="https://github.com/t3docs/DRC-The-Docker-Rendering-Container/" title="Repository"><span>Repository</span></a></li>
                </ul>
                <div class="footer-additional">
                    <p class="text-center">
                        Last updated: <a href="https://github.com/t3docs/DRC-The-Docker-Rendering-Container//commit/557cfa01490f7de40c886e16d90438b6c2c390e0" rel="nofollow" target="_blank" title="Last commit">
                           Jun 02, 2022 18:52
                        </a>
                    </p>
                    <p class="text-center">Last rendered: Jun 02, 2022 18:53</p>
                    <ul class="footer-simplemenu">
                        <li><a href="https://github.com/TYPO3-Documentation/sphinx_typo3_theme" title="sphinx_typo3_theme" target="_blank">
                        <span>TYPO3 Theme 4.7.4</span></a></li>
                    </ul>
                </div>
                <div class="footer-meta">
                    <div class="footer-meta-copyright">
                        &copy; Copyright TYPO3 Documentation Team
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- /footer.html -->
        </div>
    </div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT: '../',
            VERSION: '0.0.0',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE: true
        };
    </script>
    <script type="text/javascript" src="../_static/js/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/js/underscore.min.js"></script>
    <script type="text/javascript" src="../_static/js/doctools.min.js"></script>
    <script type="text/javascript" src="../_static/js/popper.min.js"></script>
    <script type="text/javascript" src="../_static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/js/theme.min.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/js/searchtools.min.js"></script>
    <script type="text/javascript" src="../_static/js/autocomplete.min.js"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script type="text/javascript">
        jQuery(function() { Search.loadIndex("../searchindex.js"); });
    </script>
    <script type="text/javascript" id="searchindexloader"></script>
<!-- scripts2 --><!-- /scripts2 -->
<!-- footer2 --><!-- /footer2 -->

</body>
</html>